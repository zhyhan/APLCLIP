./logs
Environment:
	Python: 3.11.3
	PyTorch: 2.0.0+cu117
	Torchvision: 0.15.1+cu117
	CUDA: 11.7
	CUDNN: 8500
	NumPy: 1.24.3
	PIL: 9.5.0
Args:
	algorithm: APLCLIP
	checkpoint_freq: None
	data_dir: /home/zhongyi.han/dataset
	dataset: OfficeHome
	holdout_fraction: 0.1
	hparams: {"clip_backbone": "ViT-B/16"}
	hparams_seed: 0
	output_dir: ./logs
	save_model_every_checkpoint: False
	seed: 0
	skip_model_save: False
	steps: None
	task: domain_generalization
	test_envs: [0]
	trial_seed: 0
	uda_holdout_fraction: 0
HParams:
	backbone: clip
	batch_size: 32
	beta1: 0.5
	class_balanced: False
	clip_backbone: ViT-B/16
	clip_transform: True
	d_steps_per_g_step: 1
	data_augmentation: True
	grad_penalty: 0.0
	lambda: 1.0
	lr: 0.001
	lr_d: 0.001
	lr_g: 0.0001
	mlp_depth: 3
	mlp_dropout: 0.2
	mlp_width: 512
	momentum: 0.1
	nonlinear_classifier: False
	resnet18: False
	resnet_dropout: 0.0
	test_envs: [0]
	weight_decay: 0.0
	weight_decay_d: 0.0
	weight_decay_g: 0.0
Using clip_transform ViT-B/16
Set self.clip_model.parameters.reguires_grad = False!
Set self.clip_model.parameters.reguires_grad = False!
Initial context: "cause the presence of"
Number of context words (tokens): 4
ViT-B/16
Using ViT-B/16...
class_loss    disc_loss     env0_in_acc   env0_out_acc  env1_in_acc   env1_out_acc  env2_in_acc   env2_out_acc  env3_in_acc   env3_out_acc  epoch         lr            step          step_time    
0.9405826926  1.0953041315  0.8192219680  0.8223140496  0.6826164418  0.6536697248  0.9029029029  0.9097065463  0.8957164712  0.9080459770  0.0000000000  0.0001000000  0             2.0737524033 
0.3432777442  1.0402755557  0.8549199085  0.8471074380  0.8836854161  0.7889908257  0.9679679680  0.9503386005  0.9548699643  0.9310344828  4.3935926773  0.0000999238  300           0.7666458925 
0.1746658974  1.0602398370  0.8558352403  0.8719008264  0.9343344362  0.7958715596  0.9774774775  0.9593679458  0.9745028047  0.9126436782  8.7871853547  0.0000994767  600           0.7698989646 
0.1050248988  1.0793145927  0.8453089245  0.8264462810  0.9508780860  0.8463302752  0.9899899900  0.9458239278  0.9821519633  0.9103448276  13.180778032  0.0000985909  900           0.7701501807 
0.0742657625  1.0852985811  0.8489702517  0.8512396694  0.9674217358  0.8440366972  0.9904904905  0.9548532731  0.9898011219  0.9126436782  17.574370709  0.0000972742  1200          0.7687274559 
0.0592857946  1.0907112058  0.8535469108  0.8636363636  0.9753117842  0.8440366972  0.9934934935  0.9616252822  0.9913309536  0.9241379310  21.967963386  0.0000955384  1500          0.7707066568 
0.0473962217  1.0940075541  0.8416475973  0.8305785124  0.9788750318  0.8188073394  0.9967467467  0.9548532731  0.9941356451  0.9172413793  26.361556064  0.0000933988  1800          0.7716285515 
0.0420138422  1.0945103606  0.8475972540  0.8595041322  0.9788750318  0.8394495413  0.9967467467  0.9593679458  0.9941356451  0.9264367816  30.755148741  0.0000908744  2100          0.7720097486 
0.0329454541  1.0957157103  0.8375286041  0.8140495868  0.9773479257  0.8348623853  0.9927427427  0.9683972912  0.9938806731  0.9057471264  35.148741418  0.0000879876  2400          0.7719691133 
0.0270243490  1.0977411898  0.8439359268  0.8347107438  0.9811656910  0.8279816514  0.9914914915  0.9661399549  0.9915859255  0.9218390805  39.542334096  0.0000847642  2700          0.7703597609 
0.0292191920  1.0968589946  0.8421052632  0.8429752066  0.9821837618  0.8279816514  0.9959959960  0.9525959368  0.9938806731  0.9218390805  43.935926773  0.0000812326  3000          0.7700717298 
0.0231977596  1.0993690260  0.8434782609  0.8471074380  0.9814202087  0.8325688073  0.9894894895  0.9548532731  0.9910759816  0.9218390805  48.329519450  0.0000774242  3300          0.7713444169 
0.0210600313  1.0982609848  0.8489702517  0.8347107438  0.9844744210  0.8279816514  0.9977477477  0.9593679458  0.9956654768  0.9195402299  52.723112128  0.0000733728  3600          0.7713073659 
0.0228013559  1.0985711904  0.8453089245  0.8347107438  0.9806566556  0.8348623853  0.9922422422  0.9548532731  0.9931157573  0.9126436782  57.116704805  0.0000691145  3900          0.7723778852 
0.0196927362  1.0990796061  0.8503432494  0.8512396694  0.9847289387  0.8233944954  0.9959959960  0.9571106095  0.9946455890  0.9195402299  61.510297482  0.0000646869  4200          0.7719843435 
0.0180941181  1.0991197713  0.8494279176  0.8347107438  0.9860015271  0.8348623853  0.9964964965  0.9638826185  0.9954105048  0.9172413793  65.903890160  0.0000601294  4500          0.7715038983 
0.0161183390  1.0982148417  0.8306636156  0.8181818182  0.9829473148  0.8165137615  0.9974974975  0.9661399549  0.9928607853  0.9126436782  70.297482837  0.0000554824  4800          0.7716984844 
0.0166810989  1.0985749066  0.8393592677  0.8429752066  0.9847289387  0.8142201835  0.9979979980  0.9638826185  0.9956654768  0.9172413793  73.226544622  0.0000515717  5000          0.7720041132 
./logs
Environment:
	Python: 3.11.3
	PyTorch: 2.0.0+cu117
	Torchvision: 0.15.1+cu117
	CUDA: 11.7
	CUDNN: 8500
	NumPy: 1.24.3
	PIL: 9.5.0
Args:
	algorithm: APLCLIP
	checkpoint_freq: None
	data_dir: /home/zhongyi.han/dataset
	dataset: OfficeHome
	holdout_fraction: 0.1
	hparams: {"clip_backbone": "ViT-B/16"}
	hparams_seed: 0
	output_dir: ./logs
	save_model_every_checkpoint: False
	seed: 0
	skip_model_save: False
	steps: None
	task: domain_generalization
	test_envs: [1]
	trial_seed: 0
	uda_holdout_fraction: 0
HParams:
	backbone: clip
	batch_size: 32
	beta1: 0.5
	class_balanced: False
	clip_backbone: ViT-B/16
	clip_transform: True
	d_steps_per_g_step: 1
	data_augmentation: True
	grad_penalty: 0.0
	lambda: 1.0
	lr: 0.001
	lr_d: 0.001
	lr_g: 1e-05
	mlp_depth: 3
	mlp_dropout: 0.2
	mlp_width: 512
	momentum: 0.1
	nonlinear_classifier: False
	resnet18: False
	resnet_dropout: 0.0
	test_envs: [1]
	weight_decay: 0.0
	weight_decay_d: 0.0
	weight_decay_g: 0.0
Using clip_transform ViT-B/16
Set self.clip_model.parameters.reguires_grad = False!
Set self.clip_model.parameters.reguires_grad = False!
Initial context: "cause the presence of"
Number of context words (tokens): 4
ViT-B/16
Using ViT-B/16...
class_loss    disc_loss     env0_in_acc   env0_out_acc  env1_in_acc   env1_out_acc  env2_in_acc   env2_out_acc  env3_in_acc   env3_out_acc  epoch         lr            step          step_time    
0.7033746839  1.0936082602  0.7881006865  0.8099173554  0.6340035632  0.6261467890  0.8458458458  0.8645598194  0.8809280979  0.9057471264  0.0000000000  0.0000100000  0             2.2097215652 
0.3023457225  0.4116253132  0.8764302059  0.8471074380  0.6739628404  0.6628440367  0.9144144144  0.9345372460  0.9127995920  0.9103448276  4.3935926773  0.0000099925  300           0.7693112437 
0.2201041857  0.3810229245  0.9034324943  0.8636363636  0.6742173581  0.6811926606  0.9271771772  0.9367945824  0.9224885263  0.9126436782  8.7871853547  0.0000099481  600           0.7712039065 
0.1685036774  0.4657206325  0.9203661327  0.8595041322  0.6846525834  0.6766055046  0.9369369369  0.9435665914  0.9329423763  0.9103448276  13.180778032  0.0000098604  900           0.7711941981 
0.1534679797  0.5176179889  0.9368421053  0.8636363636  0.6894884194  0.6857798165  0.9441941942  0.9480812641  0.9357470678  0.9195402299  17.574370709  0.0000097299  1200          0.7718260002 
0.1489826781  0.5701393131  0.9327231121  0.8512396694  0.6950878086  0.6995412844  0.9424424424  0.9345372460  0.9324324324  0.9195402299  21.967963386  0.0000095579  1500          0.7713211878 
0.1409766711  0.6607871994  0.9249427918  0.8595041322  0.6940697378  0.6857798165  0.9401901902  0.9413092551  0.9324324324  0.8919540230  26.361556064  0.0000093458  1800          0.7715839879 
0.1484029965  0.7385910988  0.9276887872  0.8677685950  0.6943242555  0.6628440367  0.9324324324  0.9300225734  0.9217236104  0.8988505747  30.755148741  0.0000090957  2100          0.7715600578 
0.1525573318  0.8009060154  0.9208237986  0.8512396694  0.7022143039  0.6651376147  0.9226726727  0.9255079007  0.9196838348  0.8873563218  35.148741418  0.0000088096  2400          0.7715970771 
0.1331211383  0.8412977688  0.9029748284  0.8636363636  0.6991600916  0.6651376147  0.9206706707  0.9300225734  0.9087200408  0.9034482759  39.542334096  0.0000084901  2700          0.7717919374 
0.1288708909  0.8656253459  0.9144164760  0.8223140496  0.6963603970  0.6720183486  0.9286786787  0.9097065463  0.9171341152  0.8873563218  43.935926773  0.0000081402  3000          0.7719655347 
0.1184248512  0.8736765196  0.9011441648  0.8223140496  0.6864342072  0.6651376147  0.9209209209  0.9074492099  0.9133095360  0.8827586207  48.329519450  0.0000077628  3300          0.7721741740 
0.1119076621  0.8648714803  0.8832951945  0.7892561983  0.6528378722  0.6467889908  0.8843843844  0.8781038375  0.8957164712  0.8827586207  52.723112128  0.0000073613  3600          0.7718217484 
0.1070631739  0.8881272393  0.8791762014  0.8223140496  0.6424026470  0.6238532110  0.8618618619  0.8442437923  0.8771035186  0.8574712644  57.116704805  0.0000069393  3900          0.7709605583 
0.1050075683  0.8672436575  0.8892448513  0.8264462810  0.6390939170  0.6307339450  0.8813813814  0.8532731377  0.8936766956  0.8781609195  61.510297482  0.0000065005  4200          0.7708961813 
0.1016486982  0.8502045623  0.9112128146  0.8305785124  0.6523288369  0.6490825688  0.9026526527  0.8803611738  0.9008159102  0.8804597701  65.903890160  0.0000060489  4500          0.7713025872 
0.1016637537  0.8434738827  0.9084668192  0.8305785124  0.6594553321  0.6536697248  0.8983983984  0.8758465011  0.9112697603  0.8620689655  70.297482837  0.0000055883  4800          0.7699820224 
0.0981460227  0.8393621245  0.9135011442  0.8347107438  0.6609824383  0.6536697248  0.9039039039  0.8803611738  0.9171341152  0.8643678161  73.226544622  0.0000052008  5000          0.7700043404 
./logs
Environment:
	Python: 3.11.3
	PyTorch: 2.0.0+cu117
	Torchvision: 0.15.1+cu117
	CUDA: 11.7
	CUDNN: 8500
	NumPy: 1.24.3
	PIL: 9.5.0
Args:
	algorithm: APLCLIP
	checkpoint_freq: None
	data_dir: /home/zhongyi.han/dataset
	dataset: OfficeHome
	holdout_fraction: 0.1
	hparams: {"clip_backbone": "ViT-B/16"}
	hparams_seed: 0
	output_dir: ./logs
	save_model_every_checkpoint: False
	seed: 0
	skip_model_save: False
	steps: None
	task: domain_generalization
	test_envs: [2]
	trial_seed: 0
	uda_holdout_fraction: 0
HParams:
	backbone: clip
	batch_size: 32
	beta1: 0.5
	class_balanced: False
	clip_backbone: ViT-B/16
	clip_transform: True
	d_steps_per_g_step: 1
	data_augmentation: True
	grad_penalty: 0.0
	lambda: 1.0
	lr: 0.001
	lr_d: 0.001
	lr_g: 1e-05
	mlp_depth: 3
	mlp_dropout: 0.2
	mlp_width: 512
	momentum: 0.1
	nonlinear_classifier: False
	resnet18: False
	resnet_dropout: 0.0
	test_envs: [2]
	weight_decay: 0.0
	weight_decay_d: 0.0
	weight_decay_g: 0.0
Using clip_transform ViT-B/16
Set self.clip_model.parameters.reguires_grad = False!
Set self.clip_model.parameters.reguires_grad = False!
Initial context: "cause the presence of"
Number of context words (tokens): 4
ViT-B/16
Using ViT-B/16...
class_loss    disc_loss     env0_in_acc   env0_out_acc  env1_in_acc   env1_out_acc  env2_in_acc   env2_out_acc  env3_in_acc   env3_out_acc  epoch         lr            step          step_time    
0.9743534923  1.0995837450  0.7839816934  0.8099173554  0.6360397048  0.6307339450  0.8425925926  0.8645598194  0.8791432942  0.9034482759  0.0000000000  0.0000100000  0             2.0893125534 
0.5438998401  0.3364944186  0.8732265446  0.8429752066  0.7465003818  0.7201834862  0.8926426426  0.9119638826  0.9140744518  0.9080459770  4.3935926773  0.0000099925  300           0.7679558476 
0.4148143007  0.2488515543  0.9089244851  0.8512396694  0.7770425045  0.7362385321  0.9014014014  0.9164785553  0.9252932177  0.9310344828  8.7871853547  0.0000099481  600           0.7682904394 
0.3301641985  0.3375498138  0.9221967963  0.8388429752  0.8022397557  0.7545871560  0.9079079079  0.9209932280  0.9352371239  0.9241379310  13.180778032  0.0000098604  900           0.7679404449 
0.3053536999  0.4762741561  0.9340961098  0.8471074380  0.8149656401  0.7660550459  0.9064064064  0.9142212190  0.9372768995  0.9241379310  17.574370709  0.0000097299  1200          0.7686832992 
0.2807940256  0.4829467042  0.9276887872  0.8595041322  0.8182743701  0.7591743119  0.8986486486  0.8848758465  0.9324324324  0.9080459770  21.967963386  0.0000095579  1500          0.7702566195 
0.2549877172  0.5359049914  0.9290617849  0.8553719008  0.8294731484  0.7683486239  0.8993993994  0.8848758465  0.9321774605  0.8988505747  26.361556064  0.0000093458  1800          0.7698909974 
0.2427821397  0.6014869137  0.9290617849  0.8595041322  0.8371086791  0.7683486239  0.8951451451  0.8826185102  0.9352371239  0.9103448276  30.755148741  0.0000090957  2100          0.7704101618 
0.2354473744  0.6889906412  0.9290617849  0.8553719008  0.8419445151  0.7637614679  0.8893893894  0.8871331828  0.9321774605  0.8896551724  35.148741418  0.0000088096  2400          0.7699298167 
0.2352745019  0.7483847175  0.9254004577  0.8553719008  0.8393993383  0.7637614679  0.8746246246  0.8555304740  0.9263131056  0.8896551724  39.542334096  0.0000084901  2700          0.7701615087 
0.2255187515  0.7950899404  0.9199084668  0.8305785124  0.8317638076  0.7706422018  0.8608608609  0.8510158014  0.9204487506  0.8850574713  43.935926773  0.0000081402  3000          0.7711158625 
0.2100753383  0.7935905095  0.9171624714  0.8388429752  0.8185288878  0.7545871560  0.8583583584  0.8555304740  0.9143294238  0.8712643678  48.329519450  0.0000077628  3300          0.7711203313 
0.2088174125  0.7992348687  0.9231121281  0.8264462810  0.8164927462  0.7477064220  0.8556056056  0.8668171558  0.9184089750  0.8735632184  52.723112128  0.0000073613  3600          0.7712998486 
0.1901192102  0.7969287888  0.9011441648  0.8264462810  0.8017307203  0.7247706422  0.8533533534  0.8465011287  0.9061703213  0.8620689655  57.116704805  0.0000069393  3900          0.7706029137 
0.1821422614  0.8025971452  0.8768878719  0.8140495868  0.7846780351  0.7155963303  0.8338338338  0.8329571106  0.8834778174  0.8367816092  61.510297482  0.0000065005  4200          0.7698362080 
0.1764392284  0.8075712073  0.8745995423  0.8140495868  0.7750063629  0.6972477064  0.8110610611  0.8058690745  0.8694543600  0.8068965517  65.903890160  0.0000060489  4500          0.7687317832 
0.1802877801  0.7683716079  0.8741418764  0.8057851240  0.7828964113  0.6972477064  0.8143143143  0.8148984199  0.8776134625  0.8160919540  70.297482837  0.0000055883  4800          0.7699362230 
0.1717329476  0.7591310933  0.8732265446  0.8140495868  0.7772970221  0.6949541284  0.8168168168  0.8284424379  0.8709841917  0.8275862069  73.226544622  0.0000052008  5000          0.7683977437 
./logs
Environment:
	Python: 3.11.3
	PyTorch: 2.0.0+cu117
	Torchvision: 0.15.1+cu117
	CUDA: 11.7
	CUDNN: 8500
	NumPy: 1.24.3
	PIL: 9.5.0
Args:
	algorithm: APLCLIP
	checkpoint_freq: None
	data_dir: /home/zhongyi.han/dataset
	dataset: OfficeHome
	holdout_fraction: 0.1
	hparams: {"clip_backbone": "ViT-B/16"}
	hparams_seed: 0
	output_dir: ./logs
	save_model_every_checkpoint: False
	seed: 0
	skip_model_save: False
	steps: None
	task: domain_generalization
	test_envs: [3]
	trial_seed: 0
	uda_holdout_fraction: 0
HParams:
	backbone: clip
	batch_size: 32
	beta1: 0.5
	class_balanced: False
	clip_backbone: ViT-B/16
	clip_transform: True
	d_steps_per_g_step: 1
	data_augmentation: True
	grad_penalty: 0.0
	lambda: 1.0
	lr: 0.001
	lr_d: 0.001
	lr_g: 1e-05
	mlp_depth: 3
	mlp_dropout: 0.2
	mlp_width: 512
	momentum: 0.1
	nonlinear_classifier: False
	resnet18: False
	resnet_dropout: 0.0
	test_envs: [3]
	weight_decay: 0.0
	weight_decay_d: 0.0
	weight_decay_g: 0.0
Using clip_transform ViT-B/16
Set self.clip_model.parameters.reguires_grad = False!
Set self.clip_model.parameters.reguires_grad = False!
Initial context: "cause the presence of"
Number of context words (tokens): 4
ViT-B/16
Using ViT-B/16...
class_loss    disc_loss     env0_in_acc   env0_out_acc  env1_in_acc   env1_out_acc  env2_in_acc   env2_out_acc  env3_in_acc   env3_out_acc  epoch         lr            step          step_time    
0.8834380507  1.0978229046  0.7848970252  0.8099173554  0.6355306694  0.6261467890  0.8438438438  0.8600451467  0.8799082101  0.9057471264  0.0000000000  0.0000100000  0             1.9911992550 
0.5231029210  0.1458637680  0.8755148741  0.8347107438  0.7401374396  0.7087155963  0.9154154154  0.9322799097  0.9038755737  0.9172413793  4.3935926773  0.0000099925  300           0.7694713346 
0.3996251781  0.0987090359  0.9070938215  0.8471074380  0.7719521507  0.7339449541  0.9309309309  0.9413092551  0.9097399286  0.9287356322  8.7871853547  0.0000099481  600           0.7684517090 
0.3101812454  0.2331869536  0.9203661327  0.8264462810  0.8002036142  0.7500000000  0.9396896897  0.9322799097  0.9079551249  0.9149425287  13.180778032  0.0000098604  900           0.7676982792 
0.2906241800  0.3492626866  0.9350114416  0.8595041322  0.8093662510  0.7637614679  0.9396896897  0.9232505643  0.9084650688  0.9103448276  17.574370709  0.0000097299  1200          0.7701737769 
slurmstepd-gpu-04: error: *** JOB 164018 ON gpu-04 CANCELLED AT 2023-06-10T09:22:05 DUE TO TIME LIMIT ***
